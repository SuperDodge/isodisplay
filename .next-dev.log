
> isodisplay@0.1.0 dev
> node server.js

📡 WebSocket server initialized
🚀 Server ready on http://localhost:3000
📡 WebSocket server initialized on path /socket.io
🔌 New WebSocket connection: mxUX7ytbwzkGSjp4AAAB
📺 Display registering: 2e52a329-a8e3-4af4-9026-12f61eff7ccb FHLeBpn7NU
✅ Display 2e52a329-a8e3-4af4-9026-12f61eff7ccb registered with socket mxUX7ytbwzkGSjp4AAAB
🔌 New WebSocket connection: m6Pj8RGWsyM17uxpAAAD
📺 Display registering: 2e52a329-a8e3-4af4-9026-12f61eff7ccb FHLeBpn7NU
 ✓ Compiled /middleware in 270ms (201 modules)
✅ Display 2e52a329-a8e3-4af4-9026-12f61eff7ccb registered with socket m6Pj8RGWsyM17uxpAAAD
🔍 Middleware - Path: /display/FHLeBpn7NU
🔍 Middleware - Cookies: [ '__next_hmr_refresh_hash__', 'csrf-token', 'session-token' ]
🔍 Middleware - Path: /display/FHLeBpn7NU
🔍 Middleware - Cookies: [ '__next_hmr_refresh_hash__', 'csrf-token', 'session-token' ]
🔍 Middleware - Path: /display/FHLeBpn7NU
🔍 Middleware - Cookies: [ '__next_hmr_refresh_hash__', 'csrf-token', 'session-token' ]
🔍 Middleware - Public route, allowing
🔍 Middleware - Public route, allowing
🔍 Middleware - Public route, allowing
🔌 New WebSocket connection: V-85BvSoSyy6VPHpAAAF
 ○ Compiling /display/[url] ...
 ✓ Compiled /display/[url] in 1951ms (921 modules)
 GET /display/FHLeBpn7NU 200 in 2311ms
🔌 WebSocket disconnection: mxUX7ytbwzkGSjp4AAAB
🔌 WebSocket disconnection: V-85BvSoSyy6VPHpAAAF
🔌 WebSocket disconnection: m6Pj8RGWsyM17uxpAAAD
📺 Display offline: 2e52a329-a8e3-4af4-9026-12f61eff7ccb
 ✓ Compiled in 76ms (350 modules)
 ✓ Compiled in 70ms (350 modules)
🔍 Middleware - Path: /api/display/FHLeBpn7NU
🔍 Middleware - Cookies: [ '__next_hmr_refresh_hash__', 'csrf-token', 'session-token' ]
🔍 Middleware - Path: /api/display/FHLeBpn7NU
🔍 Middleware - Cookies: [ '__next_hmr_refresh_hash__', 'csrf-token', 'session-token' ]
🔍 Middleware - Public route, allowing
🔍 Middleware - Public route, allowing
 ✓ Compiled /api/display/[url] in 207ms (913 modules)
prisma:query SELECT "public"."Display"."id", "public"."Display"."name", "public"."Display"."urlSlug", "public"."Display"."playlistId", "public"."Display"."resolution", "public"."Display"."orientation"::text, "public"."Display"."lastSeen", "public"."Display"."isOnline", "public"."Display"."location", "public"."Display"."clockSettings", "public"."Display"."createdAt", "public"."Display"."updatedAt" FROM "public"."Display" WHERE "public"."Display"."urlSlug" IN ($1,$2) OFFSET $3
prisma:query SELECT "public"."Playlist"."id", "public"."Playlist"."name", "public"."Playlist"."createdBy", "public"."Playlist"."isActive", "public"."Playlist"."createdAt", "public"."Playlist"."updatedAt", "public"."Playlist"."description" FROM "public"."Playlist" WHERE "public"."Playlist"."id" IN ($1) OFFSET $2
prisma:query SELECT "public"."PlaylistItem"."id", "public"."PlaylistItem"."playlistId", "public"."PlaylistItem"."contentId", "public"."PlaylistItem"."duration", "public"."PlaylistItem"."order", "public"."PlaylistItem"."transitionType"::text, "public"."PlaylistItem"."transitionDuration", "public"."PlaylistItem"."createdAt", "public"."PlaylistItem"."updatedAt" FROM "public"."PlaylistItem" WHERE "public"."PlaylistItem"."playlistId" IN ($1) ORDER BY "public"."PlaylistItem"."order" ASC OFFSET $2
prisma:query SELECT "public"."Content"."id", "public"."Content"."name", "public"."Content"."type"::text, "public"."Content"."filePath", "public"."Content"."metadata", "public"."Content"."backgroundColor", "public"."Content"."cropSettings", "public"."Content"."fileSize", "public"."Content"."mimeType", "public"."Content"."originalName", "public"."Content"."fileHash", "public"."Content"."processingStatus"::text, "public"."Content"."processingError", "public"."Content"."storageLocation", "public"."Content"."uploadedBy", "public"."Content"."createdAt", "public"."Content"."updatedAt", "public"."Content"."deletedAt", "public"."Content"."createdBy", "public"."Content"."duration", "public"."Content"."fileName", "public"."Content"."description" FROM "public"."Content" WHERE "public"."Content"."id" IN ($1,$2,$3,$4) OFFSET $5
prisma:query UPDATE "public"."Display" SET "isOnline" = $1, "lastSeen" = $2, "updatedAt" = $3 WHERE ("public"."Display"."id" = $4 AND 1=1) RETURNING "public"."Display"."id", "public"."Display"."name", "public"."Display"."urlSlug", "public"."Display"."playlistId", "public"."Display"."resolution", "public"."Display"."orientation"::text, "public"."Display"."lastSeen", "public"."Display"."isOnline", "public"."Display"."location", "public"."Display"."clockSettings", "public"."Display"."createdAt", "public"."Display"."updatedAt"
 GET /api/display/FHLeBpn7NU 200 in 454ms
 GET /api/display/FHLeBpn7NU 200 in 455ms
prisma:query UPDATE "public"."Display" SET "isOnline" = $1, "lastSeen" = $2, "updatedAt" = $3 WHERE ("public"."Display"."id" = $4 AND 1=1) RETURNING "public"."Display"."id", "public"."Display"."name", "public"."Display"."urlSlug", "public"."Display"."playlistId", "public"."Display"."resolution", "public"."Display"."orientation"::text, "public"."Display"."lastSeen", "public"."Display"."isOnline", "public"."Display"."location", "public"."Display"."clockSettings", "public"."Display"."createdAt", "public"."Display"."updatedAt"
🔌 New WebSocket connection: jIzzQshNNZaeuUiXAAAJ
🔌 New WebSocket connection: RcMw06i-pl3osnuIAAAK
🔌 New WebSocket connection: 9KTbr8s1zPbZx1jIAAAL
📺 Display registering: 2e52a329-a8e3-4af4-9026-12f61eff7ccb FHLeBpn7NU
📺 Display registering: 2e52a329-a8e3-4af4-9026-12f61eff7ccb FHLeBpn7NU
✅ Display 2e52a329-a8e3-4af4-9026-12f61eff7ccb registered with socket jIzzQshNNZaeuUiXAAAJ
✅ Display 2e52a329-a8e3-4af4-9026-12f61eff7ccb registered with socket 9KTbr8s1zPbZx1jIAAAL
 ✓ Compiled /api/uploads/[...path] in 151ms (1014 modules)
prisma:query SELECT "public"."Content"."id", "public"."Content"."name", "public"."Content"."type"::text, "public"."Content"."filePath", "public"."Content"."metadata", "public"."Content"."backgroundColor", "public"."Content"."cropSettings", "public"."Content"."fileSize", "public"."Content"."mimeType", "public"."Content"."originalName", "public"."Content"."fileHash", "public"."Content"."processingStatus"::text, "public"."Content"."processingError", "public"."Content"."storageLocation", "public"."Content"."uploadedBy", "public"."Content"."createdAt", "public"."Content"."updatedAt", "public"."Content"."deletedAt", "public"."Content"."createdBy", "public"."Content"."duration", "public"."Content"."fileName", "public"."Content"."description" FROM "public"."Content" WHERE ("public"."Content"."filePath"::text LIKE $1 OR "public"."Content"."filePath"::text LIKE $2) LIMIT $3 OFFSET $4
prisma:query SELECT "public"."Content"."id", "public"."Content"."name", "public"."Content"."type"::text, "public"."Content"."filePath", "public"."Content"."metadata", "public"."Content"."backgroundColor", "public"."Content"."cropSettings", "public"."Content"."fileSize", "public"."Content"."mimeType", "public"."Content"."originalName", "public"."Content"."fileHash", "public"."Content"."processingStatus"::text, "public"."Content"."processingError", "public"."Content"."storageLocation", "public"."Content"."uploadedBy", "public"."Content"."createdAt", "public"."Content"."updatedAt", "public"."Content"."deletedAt", "public"."Content"."createdBy", "public"."Content"."duration", "public"."Content"."fileName", "public"."Content"."description" FROM "public"."Content" WHERE ("public"."Content"."filePath"::text LIKE $1 OR "public"."Content"."filePath"::text LIKE $2) LIMIT $3 OFFSET $4
 HEAD /uploads/2025/09/documents/975c4d27-12ac-42f5-a62c-733af0797aa7/1756746370890-1756746370883-Digital%20Signage%20Template.pdf 200 in 420ms
 HEAD /uploads/2025/09/documents/975c4d27-12ac-42f5-a62c-733af0797aa7/1756746370890-1756746370883-Digital%20Signage%20Template.pdf 200 in 420ms
 ✓ Compiled in 184ms (351 modules)
 ✓ Compiled in 83ms (351 modules)
 ✓ Compiled in 130ms (552 modules)
🔌 WebSocket disconnection: jIzzQshNNZaeuUiXAAAJ
🔌 WebSocket disconnection: RcMw06i-pl3osnuIAAAK
🔌 WebSocket disconnection: 9KTbr8s1zPbZx1jIAAAL
📺 Display offline: 2e52a329-a8e3-4af4-9026-12f61eff7ccb
 ✓ Compiled in 100ms (552 modules)
 ✓ Compiled in 99ms (351 modules)
 ✓ Compiled in 81ms (351 modules)
 ✓ Compiled in 92ms (351 modules)
 ✓ Compiled in 79ms (351 modules)
🔍 Middleware - Path: /content
🔍 Middleware - Cookies: [ '__next_hmr_refresh_hash__', 'csrf-token', 'session-token' ]
🔍 Middleware - Session token exists: true
🔍 Middleware - User verified: admin@isodisplay.local
🔍 Middleware - Path: /
🔍 Middleware - Cookies: [ '__next_hmr_refresh_hash__', 'csrf-token', 'session-token' ]
🔍 Middleware - Session token exists: true
🔍 Middleware - User verified: admin@isodisplay.local
 ○ Compiling / ...
 ✓ Compiled / in 646ms (1199 modules)
 GET / 307 in 539ms
🔍 Middleware - Path: /displays
🔍 Middleware - Cookies: [ '__next_hmr_refresh_hash__', 'csrf-token', 'session-token' ]
🔍 Middleware - Public route, allowing
 ✓ Compiled /displays in 367ms (1327 modules)
 GET /displays 200 in 461ms
🔍 Middleware - Path: /brandmark.png
🔍 Middleware - Cookies: [ '__next_hmr_refresh_hash__', 'csrf-token', 'session-token' ]
🔍 Middleware - Session token exists: true
🔍 Middleware - User verified: admin@isodisplay.local
🔍 Middleware - Path: /brandmark.png
🔍 Middleware - Cookies: [ '__next_hmr_refresh_hash__', 'csrf-token', 'session-token' ]
🔍 Middleware - Session token exists: true
🔍 Middleware - User verified: admin@isodisplay.local
🔍 Middleware - Path: /api/auth/me
🔍 Middleware - Cookies: [ '__next_hmr_refresh_hash__', 'csrf-token', 'session-token' ]
🔍 Middleware - Path: /api/auth/me
🔍 Middleware - Cookies: [ '__next_hmr_refresh_hash__', 'csrf-token', 'session-token' ]
🔍 Middleware - Public route, allowing
🔍 Middleware - Public route, allowing
 ✓ Compiled /api/auth/me in 152ms (1344 modules)
 GET /api/auth/me 200 in 216ms
 GET /api/auth/me 200 in 218ms
🔍 Middleware - Path: /api/displays
🔍 Middleware - Cookies: [ '__next_hmr_refresh_hash__', 'csrf-token', 'session-token' ]
🔍 Middleware - Public route, allowing
 ✓ Compiled /api/displays in 184ms (1420 modules)
prisma:query SELECT 1
prisma:query SELECT "public"."Display"."id", "public"."Display"."name", "public"."Display"."urlSlug", "public"."Display"."playlistId", "public"."Display"."resolution", "public"."Display"."orientation"::text, "public"."Display"."lastSeen", "public"."Display"."isOnline", "public"."Display"."location", "public"."Display"."clockSettings", "public"."Display"."createdAt", "public"."Display"."updatedAt" FROM "public"."Display" WHERE 1=1 ORDER BY "public"."Display"."createdAt" DESC OFFSET $1
prisma:query SELECT "public"."Playlist"."id", "public"."Playlist"."name" FROM "public"."Playlist" WHERE "public"."Playlist"."id" IN ($1) OFFSET $2
 GET /api/displays 200 in 234ms
🔍 Middleware - Path: /content
🔍 Middleware - Cookies: [ '__next_hmr_refresh_hash__', 'csrf-token', 'session-token' ]
🔍 Middleware - Session token exists: true
🔍 Middleware - User verified: admin@isodisplay.local
 GET /content 200 in 40ms
🔍 Middleware - Path: /api/auth/me
🔍 Middleware - Cookies: [ '__next_hmr_refresh_hash__', 'csrf-token', 'session-token' ]
🔍 Middleware - Path: /api/auth/csrf
🔍 Middleware - Cookies: [ '__next_hmr_refresh_hash__', 'csrf-token', 'session-token' ]
🔍 Middleware - Path: /api/auth/me
🔍 Middleware - Cookies: [ '__next_hmr_refresh_hash__', 'csrf-token', 'session-token' ]
🔍 Middleware - Path: /api/auth/csrf
🔍 Middleware - Cookies: [ '__next_hmr_refresh_hash__', 'csrf-token', 'session-token' ]
🔍 Middleware - Public route, allowing
🔍 Middleware - Public route, allowing
🔍 Middleware - Public route, allowing
🔍 Middleware - Public route, allowing
 GET /api/auth/me 200 in 12ms
🔍 Middleware - Path: /api/content
🔍 Middleware - Cookies: [ '__next_hmr_refresh_hash__', 'csrf-token', 'session-token' ]
🔍 Middleware - Session token exists: true
🔍 Middleware - User verified: admin@isodisplay.local
 ✓ Compiled /api/content in 263ms (1427 modules)
 GET /api/auth/me 200 in 280ms
 GET /api/auth/csrf 200 in 313ms
 GET /api/auth/csrf 200 in 314ms
prisma:query SELECT "public"."Content"."id", "public"."Content"."name", "public"."Content"."type"::text, "public"."Content"."filePath", "public"."Content"."metadata", "public"."Content"."backgroundColor", "public"."Content"."cropSettings", "public"."Content"."fileSize", "public"."Content"."mimeType", "public"."Content"."originalName", "public"."Content"."fileHash", "public"."Content"."processingStatus"::text, "public"."Content"."processingError", "public"."Content"."storageLocation", "public"."Content"."uploadedBy", "public"."Content"."createdAt", "public"."Content"."updatedAt", "public"."Content"."deletedAt", "public"."Content"."createdBy", "public"."Content"."duration", "public"."Content"."fileName", "public"."Content"."description" FROM "public"."Content" WHERE "public"."Content"."deletedAt" IS NULL ORDER BY "public"."Content"."createdAt" DESC OFFSET $1
prisma:query SELECT "public"."FileThumbnail"."id", "public"."FileThumbnail"."contentId", "public"."FileThumbnail"."size", "public"."FileThumbnail"."width", "public"."FileThumbnail"."height", "public"."FileThumbnail"."filePath", "public"."FileThumbnail"."fileSize", "public"."FileThumbnail"."format", "public"."FileThumbnail"."createdAt" FROM "public"."FileThumbnail" WHERE "public"."FileThumbnail"."contentId" IN ($1,$2,$3,$4,$5,$6,$7,$8,$9) OFFSET $10
 GET /api/content?sortBy=createdAt&sortOrder=desc 200 in 291ms
🔍 Middleware - Path: /api/content
🔍 Middleware - Cookies: [ '__next_hmr_refresh_hash__', 'csrf-token', 'session-token' ]
🔍 Middleware - Session token exists: true
🔍 Middleware - User verified: admin@isodisplay.local
prisma:query SELECT "public"."Content"."id", "public"."Content"."name", "public"."Content"."type"::text, "public"."Content"."filePath", "public"."Content"."metadata", "public"."Content"."backgroundColor", "public"."Content"."cropSettings", "public"."Content"."fileSize", "public"."Content"."mimeType", "public"."Content"."originalName", "public"."Content"."fileHash", "public"."Content"."processingStatus"::text, "public"."Content"."processingError", "public"."Content"."storageLocation", "public"."Content"."uploadedBy", "public"."Content"."createdAt", "public"."Content"."updatedAt", "public"."Content"."deletedAt", "public"."Content"."createdBy", "public"."Content"."duration", "public"."Content"."fileName", "public"."Content"."description" FROM "public"."Content" WHERE "public"."Content"."deletedAt" IS NULL ORDER BY "public"."Content"."createdAt" DESC OFFSET $1
prisma:query SELECT "public"."FileThumbnail"."id", "public"."FileThumbnail"."contentId", "public"."FileThumbnail"."size", "public"."FileThumbnail"."width", "public"."FileThumbnail"."height", "public"."FileThumbnail"."filePath", "public"."FileThumbnail"."fileSize", "public"."FileThumbnail"."format", "public"."FileThumbnail"."createdAt" FROM "public"."FileThumbnail" WHERE "public"."FileThumbnail"."contentId" IN ($1,$2,$3,$4,$5,$6,$7,$8,$9) OFFSET $10
 GET /api/content?sortBy=createdAt&sortOrder=desc 200 in 9ms
🔍 Middleware - Path: /playlists
🔍 Middleware - Cookies: [ 'csrf-token', '__next_hmr_refresh_hash__', 'session-token' ]
🔍 Middleware - Session token exists: true
🔍 Middleware - User verified: admin@isodisplay.local
 ✓ Compiled /playlists in 160ms (1438 modules)
 GET /playlists 200 in 192ms
🔍 Middleware - Path: /api/auth/me
🔍 Middleware - Cookies: [ 'csrf-token', '__next_hmr_refresh_hash__', 'session-token' ]
🔍 Middleware - Path: /api/auth/me
🔍 Middleware - Cookies: [ 'csrf-token', '__next_hmr_refresh_hash__', 'session-token' ]
🔍 Middleware - Public route, allowing
🔍 Middleware - Public route, allowing
 GET /api/auth/me 200 in 9ms
 GET /api/auth/me 200 in 13ms
🔍 Middleware - Path: /api/playlists
🔍 Middleware - Cookies: [ 'csrf-token', '__next_hmr_refresh_hash__', 'session-token' ]
🔍 Middleware - Session token exists: true
🔍 Middleware - User verified: admin@isodisplay.local
🔍 Middleware - Path: /api/playlists
🔍 Middleware - Cookies: [ 'csrf-token', '__next_hmr_refresh_hash__', 'session-token' ]
🔍 Middleware - Session token exists: true
🔍 Middleware - User verified: admin@isodisplay.local
 ✓ Compiled /api/playlists in 130ms (1442 modules)
prisma:query SELECT 1
prisma:query SELECT "public"."Playlist"."id", "public"."Playlist"."name", "public"."Playlist"."createdBy", "public"."Playlist"."isActive", "public"."Playlist"."createdAt", "public"."Playlist"."updatedAt", "public"."Playlist"."description" FROM "public"."Playlist" WHERE "public"."Playlist"."isActive" = $1 ORDER BY "public"."Playlist"."updatedAt" DESC OFFSET $2
prisma:query SELECT "public"."Playlist"."id", "public"."Playlist"."name", "public"."Playlist"."createdBy", "public"."Playlist"."isActive", "public"."Playlist"."createdAt", "public"."Playlist"."updatedAt", "public"."Playlist"."description" FROM "public"."Playlist" WHERE "public"."Playlist"."isActive" = $1 ORDER BY "public"."Playlist"."updatedAt" DESC OFFSET $2
prisma:query SELECT "public"."PlaylistItem"."id", "public"."PlaylistItem"."playlistId", "public"."PlaylistItem"."contentId", "public"."PlaylistItem"."duration", "public"."PlaylistItem"."order", "public"."PlaylistItem"."transitionType"::text, "public"."PlaylistItem"."transitionDuration", "public"."PlaylistItem"."createdAt", "public"."PlaylistItem"."updatedAt" FROM "public"."PlaylistItem" WHERE "public"."PlaylistItem"."playlistId" IN ($1) ORDER BY "public"."PlaylistItem"."order" ASC OFFSET $2
prisma:query SELECT "public"."PlaylistItem"."id", "public"."PlaylistItem"."playlistId", "public"."PlaylistItem"."contentId", "public"."PlaylistItem"."duration", "public"."PlaylistItem"."order", "public"."PlaylistItem"."transitionType"::text, "public"."PlaylistItem"."transitionDuration", "public"."PlaylistItem"."createdAt", "public"."PlaylistItem"."updatedAt" FROM "public"."PlaylistItem" WHERE "public"."PlaylistItem"."playlistId" IN ($1) ORDER BY "public"."PlaylistItem"."order" ASC OFFSET $2
prisma:query SELECT "public"."Content"."id", "public"."Content"."name", "public"."Content"."type"::text, "public"."Content"."filePath", "public"."Content"."metadata", "public"."Content"."backgroundColor", "public"."Content"."cropSettings", "public"."Content"."fileSize", "public"."Content"."mimeType", "public"."Content"."originalName", "public"."Content"."fileHash", "public"."Content"."processingStatus"::text, "public"."Content"."processingError", "public"."Content"."storageLocation", "public"."Content"."uploadedBy", "public"."Content"."createdAt", "public"."Content"."updatedAt", "public"."Content"."deletedAt", "public"."Content"."createdBy", "public"."Content"."duration", "public"."Content"."fileName", "public"."Content"."description" FROM "public"."Content" WHERE "public"."Content"."id" IN ($1,$2,$3,$4) OFFSET $5
prisma:query SELECT "public"."Content"."id", "public"."Content"."name", "public"."Content"."type"::text, "public"."Content"."filePath", "public"."Content"."metadata", "public"."Content"."backgroundColor", "public"."Content"."cropSettings", "public"."Content"."fileSize", "public"."Content"."mimeType", "public"."Content"."originalName", "public"."Content"."fileHash", "public"."Content"."processingStatus"::text, "public"."Content"."processingError", "public"."Content"."storageLocation", "public"."Content"."uploadedBy", "public"."Content"."createdAt", "public"."Content"."updatedAt", "public"."Content"."deletedAt", "public"."Content"."createdBy", "public"."Content"."duration", "public"."Content"."fileName", "public"."Content"."description" FROM "public"."Content" WHERE "public"."Content"."id" IN ($1,$2,$3,$4) OFFSET $5
prisma:query SELECT "public"."User"."id", "public"."User"."username", "public"."User"."email" FROM "public"."User" WHERE "public"."User"."id" IN ($1) OFFSET $2
prisma:query SELECT "public"."User"."id", "public"."User"."username", "public"."User"."email" FROM "public"."User" WHERE "public"."User"."id" IN ($1) OFFSET $2
prisma:query SELECT "public"."Display"."id", "public"."Display"."name", "public"."Display"."urlSlug", "public"."Display"."playlistId", "public"."Display"."resolution", "public"."Display"."orientation"::text, "public"."Display"."lastSeen", "public"."Display"."isOnline", "public"."Display"."location", "public"."Display"."clockSettings", "public"."Display"."createdAt", "public"."Display"."updatedAt" FROM "public"."Display" WHERE "public"."Display"."playlistId" IN ($1) OFFSET $2
prisma:query SELECT "public"."Display"."id", "public"."Display"."name", "public"."Display"."urlSlug", "public"."Display"."playlistId", "public"."Display"."resolution", "public"."Display"."orientation"::text, "public"."Display"."lastSeen", "public"."Display"."isOnline", "public"."Display"."location", "public"."Display"."clockSettings", "public"."Display"."createdAt", "public"."Display"."updatedAt" FROM "public"."Display" WHERE "public"."Display"."playlistId" IN ($1) OFFSET $2
 GET /api/playlists 200 in 158ms
 GET /api/playlists 200 in 164ms
🔍 Middleware - Path: /displays
🔍 Middleware - Cookies: [ 'csrf-token', '__next_hmr_refresh_hash__', 'session-token' ]
🔍 Middleware - Public route, allowing
 GET /displays 200 in 16ms
🔍 Middleware - Path: /api/auth/me
🔍 Middleware - Cookies: [ 'csrf-token', '__next_hmr_refresh_hash__', 'session-token' ]
🔍 Middleware - Path: /api/auth/me
🔍 Middleware - Cookies: [ 'csrf-token', '__next_hmr_refresh_hash__', 'session-token' ]
🔍 Middleware - Public route, allowing
🔍 Middleware - Public route, allowing
 GET /api/auth/me 200 in 8ms
 GET /api/auth/me 200 in 13ms
🔍 Middleware - Path: /api/displays
🔍 Middleware - Cookies: [ 'csrf-token', '__next_hmr_refresh_hash__', 'session-token' ]
🔍 Middleware - Public route, allowing
🔍 Middleware - Path: /api/displays
🔍 Middleware - Cookies: [ 'csrf-token', '__next_hmr_refresh_hash__', 'session-token' ]
🔍 Middleware - Public route, allowing
prisma:query SELECT "public"."Display"."id", "public"."Display"."name", "public"."Display"."urlSlug", "public"."Display"."playlistId", "public"."Display"."resolution", "public"."Display"."orientation"::text, "public"."Display"."lastSeen", "public"."Display"."isOnline", "public"."Display"."location", "public"."Display"."clockSettings", "public"."Display"."createdAt", "public"."Display"."updatedAt" FROM "public"."Display" WHERE 1=1 ORDER BY "public"."Display"."createdAt" DESC OFFSET $1
prisma:query SELECT "public"."Playlist"."id", "public"."Playlist"."name" FROM "public"."Playlist" WHERE "public"."Playlist"."id" IN ($1) OFFSET $2
 GET /api/displays 200 in 14ms
prisma:query SELECT "public"."Display"."id", "public"."Display"."name", "public"."Display"."urlSlug", "public"."Display"."playlistId", "public"."Display"."resolution", "public"."Display"."orientation"::text, "public"."Display"."lastSeen", "public"."Display"."isOnline", "public"."Display"."location", "public"."Display"."clockSettings", "public"."Display"."createdAt", "public"."Display"."updatedAt" FROM "public"."Display" WHERE 1=1 ORDER BY "public"."Display"."createdAt" DESC OFFSET $1
prisma:query SELECT "public"."Playlist"."id", "public"."Playlist"."name" FROM "public"."Playlist" WHERE "public"."Playlist"."id" IN ($1) OFFSET $2
 GET /api/displays 200 in 15ms
 ✓ Compiled in 107ms (524 modules)
🔍 Middleware - Path: /displays
🔍 Middleware - Cookies: [ '__next_hmr_refresh_hash__', 'csrf-token', 'session-token' ]
🔍 Middleware - Public route, allowing
 ✓ Compiled in 90ms (524 modules)
 GET /displays 200 in 29ms
🔍 Middleware - Path: /displays
🔍 Middleware - Cookies: [ '__next_hmr_refresh_hash__', 'csrf-token', 'session-token' ]
🔍 Middleware - Public route, allowing
 GET /displays 200 in 12ms
🔍 Middleware - Path: /api/displays
🔍 Middleware - Cookies: [ '__next_hmr_refresh_hash__', 'csrf-token', 'session-token' ]
🔍 Middleware - Public route, allowing
prisma:query SELECT 1
prisma:query SELECT "public"."Display"."id", "public"."Display"."name", "public"."Display"."urlSlug", "public"."Display"."playlistId", "public"."Display"."resolution", "public"."Display"."orientation"::text, "public"."Display"."lastSeen", "public"."Display"."isOnline", "public"."Display"."location", "public"."Display"."clockSettings", "public"."Display"."createdAt", "public"."Display"."updatedAt" FROM "public"."Display" WHERE 1=1 ORDER BY "public"."Display"."createdAt" DESC OFFSET $1
prisma:query SELECT "public"."Playlist"."id", "public"."Playlist"."name" FROM "public"."Playlist" WHERE "public"."Playlist"."id" IN ($1) OFFSET $2
 GET /api/displays 200 in 13ms
 ✓ Compiled in 119ms (524 modules)
🔍 Middleware - Path: /displays
🔍 Middleware - Cookies: [ '__next_hmr_refresh_hash__', 'csrf-token', 'session-token' ]
🔍 Middleware - Public route, allowing
 GET /displays 200 in 97ms
 ✓ Compiled in 113ms (524 modules)
🔍 Middleware - Path: /displays
🔍 Middleware - Cookies: [ '__next_hmr_refresh_hash__', 'csrf-token', 'session-token' ]
🔍 Middleware - Public route, allowing
 GET /displays 200 in 33ms
🔍 Middleware - Path: /api/displays
🔍 Middleware - Cookies: [ '__next_hmr_refresh_hash__', 'csrf-token', 'session-token' ]
🔍 Middleware - Public route, allowing
prisma:query SELECT 1
prisma:query SELECT "public"."Display"."id", "public"."Display"."name", "public"."Display"."urlSlug", "public"."Display"."playlistId", "public"."Display"."resolution", "public"."Display"."orientation"::text, "public"."Display"."lastSeen", "public"."Display"."isOnline", "public"."Display"."location", "public"."Display"."clockSettings", "public"."Display"."createdAt", "public"."Display"."updatedAt" FROM "public"."Display" WHERE 1=1 ORDER BY "public"."Display"."createdAt" DESC OFFSET $1
prisma:query SELECT "public"."Playlist"."id", "public"."Playlist"."name" FROM "public"."Playlist" WHERE "public"."Playlist"."id" IN ($1) OFFSET $2
 GET /api/displays 200 in 11ms
 ✓ Compiled in 112ms (524 modules)
🔍 Middleware - Path: /displays
🔍 Middleware - Cookies: [ '__next_hmr_refresh_hash__', 'csrf-token', 'session-token' ]
🔍 Middleware - Public route, allowing
 GET /displays 200 in 83ms
 ✓ Compiled in 93ms (524 modules)
🔍 Middleware - Path: /displays
🔍 Middleware - Cookies: [ '__next_hmr_refresh_hash__', 'csrf-token', 'session-token' ]
🔍 Middleware - Public route, allowing
 GET /displays 200 in 12ms
🔍 Middleware - Path: /api/displays
🔍 Middleware - Cookies: [ '__next_hmr_refresh_hash__', 'csrf-token', 'session-token' ]
🔍 Middleware - Public route, allowing
prisma:query SELECT 1
prisma:query SELECT "public"."Display"."id", "public"."Display"."name", "public"."Display"."urlSlug", "public"."Display"."playlistId", "public"."Display"."resolution", "public"."Display"."orientation"::text, "public"."Display"."lastSeen", "public"."Display"."isOnline", "public"."Display"."location", "public"."Display"."clockSettings", "public"."Display"."createdAt", "public"."Display"."updatedAt" FROM "public"."Display" WHERE 1=1 ORDER BY "public"."Display"."createdAt" DESC OFFSET $1
prisma:query SELECT "public"."Playlist"."id", "public"."Playlist"."name" FROM "public"."Playlist" WHERE "public"."Playlist"."id" IN ($1) OFFSET $2
 GET /api/displays 200 in 10ms
 ✓ Compiled in 90ms (524 modules)
🔍 Middleware - Path: /displays
🔍 Middleware - Cookies: [ '__next_hmr_refresh_hash__', 'csrf-token', 'session-token' ]
🔍 Middleware - Public route, allowing
 GET /displays 200 in 12ms
 ✓ Compiled in 98ms (524 modules)
🔍 Middleware - Path: /displays
🔍 Middleware - Cookies: [ '__next_hmr_refresh_hash__', 'csrf-token', 'session-token' ]
🔍 Middleware - Public route, allowing
 GET /displays 200 in 74ms
 ✓ Compiled in 98ms (524 modules)
🔍 Middleware - Path: /displays
🔍 Middleware - Cookies: [ '__next_hmr_refresh_hash__', 'csrf-token', 'session-token' ]
🔍 Middleware - Public route, allowing
 GET /displays 200 in 14ms
 ✓ Compiled in 98ms (524 modules)
🔍 Middleware - Path: /displays
🔍 Middleware - Cookies: [ '__next_hmr_refresh_hash__', 'csrf-token', 'session-token' ]
🔍 Middleware - Public route, allowing
 GET /displays 200 in 79ms
 ✓ Compiled in 87ms (524 modules)
🔍 Middleware - Path: /displays
🔍 Middleware - Cookies: [ '__next_hmr_refresh_hash__', 'csrf-token', 'session-token' ]
🔍 Middleware - Public route, allowing
 GET /displays 200 in 12ms
🔍 Middleware - Path: /api/displays
🔍 Middleware - Cookies: [ '__next_hmr_refresh_hash__', 'csrf-token', 'session-token' ]
🔍 Middleware - Public route, allowing
prisma:query SELECT 1
prisma:query SELECT "public"."Display"."id", "public"."Display"."name", "public"."Display"."urlSlug", "public"."Display"."playlistId", "public"."Display"."resolution", "public"."Display"."orientation"::text, "public"."Display"."lastSeen", "public"."Display"."isOnline", "public"."Display"."location", "public"."Display"."clockSettings", "public"."Display"."createdAt", "public"."Display"."updatedAt" FROM "public"."Display" WHERE 1=1 ORDER BY "public"."Display"."createdAt" DESC OFFSET $1
prisma:query SELECT "public"."Playlist"."id", "public"."Playlist"."name" FROM "public"."Playlist" WHERE "public"."Playlist"."id" IN ($1) OFFSET $2
 GET /api/displays 200 in 15ms
 ✓ Compiled in 92ms (524 modules)
🔍 Middleware - Path: /displays
🔍 Middleware - Cookies: [ '__next_hmr_refresh_hash__', 'csrf-token', 'session-token' ]
🔍 Middleware - Public route, allowing
 GET /displays 200 in 17ms
 ✓ Compiled in 95ms (524 modules)
🔍 Middleware - Path: /displays
🔍 Middleware - Cookies: [ '__next_hmr_refresh_hash__', 'csrf-token', 'session-token' ]
🔍 Middleware - Public route, allowing
 ✓ Compiled in 92ms (524 modules)
 GET /displays 200 in 83ms
🔍 Middleware - Path: /displays
🔍 Middleware - Cookies: [ '__next_hmr_refresh_hash__', 'csrf-token', 'session-token' ]
🔍 Middleware - Public route, allowing
 GET /displays 200 in 12ms
 ✓ Compiled in 104ms (524 modules)
🔍 Middleware - Path: /displays
🔍 Middleware - Cookies: [ '__next_hmr_refresh_hash__', 'csrf-token', 'session-token' ]
🔍 Middleware - Public route, allowing
 GET /displays 200 in 38ms
 ✓ Compiled in 131ms (725 modules)
🔍 Middleware - Public route, allowing
 GET /displays 200 in 13ms
🔍 Middleware - Public route, allowing
prisma:query SELECT 1
prisma:query SELECT "public"."Display"."id", "public"."Display"."name", "public"."Display"."urlSlug", "public"."Display"."playlistId", "public"."Display"."resolution", "public"."Display"."orientation"::text, "public"."Display"."lastSeen", "public"."Display"."isOnline", "public"."Display"."location", "public"."Display"."clockSettings", "public"."Display"."createdAt", "public"."Display"."updatedAt" FROM "public"."Display" WHERE 1=1 ORDER BY "public"."Display"."createdAt" DESC OFFSET $1
prisma:query SELECT "public"."Playlist"."id", "public"."Playlist"."name" FROM "public"."Playlist" WHERE "public"."Playlist"."id" IN ($1) OFFSET $2
 GET /api/displays 200 in 9ms
 ✓ Compiled in 85ms (524 modules)
🔍 Middleware - Public route, allowing
 ✓ Compiled in 103ms (524 modules)
 GET /displays 200 in 84ms
🔍 Middleware - Public route, allowing
 GET /displays 200 in 17ms
